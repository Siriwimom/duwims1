(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,67585,(e,l,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return s}});let r=e.r(32061);function s({reason:e,children:l}){if("undefined"==typeof window)throw Object.defineProperty(new r.BailoutToCSRError(e),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return l}},9885,(e,l,t)=>{"use strict";function r(e){return e.split("/").map(e=>encodeURIComponent(e)).join("/")}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"encodeURIPath",{enumerable:!0,get:function(){return r}})},52157,(e,l,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadChunks",{enumerable:!0,get:function(){return d}});let r=e.r(43476),s=e.r(74080),n=e.r(63599),a=e.r(9885);function d({moduleIds:e}){if("undefined"!=typeof window)return null;let l=n.workAsyncStorage.getStore();if(void 0===l)return null;let t=[];if(l.reactLoadableManifest&&e){let r=l.reactLoadableManifest;for(let l of e){if(!r[l])continue;let e=r[l].files;t.push(...e)}}return 0===t.length?null:(0,r.jsx)(r.Fragment,{children:t.map(e=>{let t=`${l.assetPrefix}/_next/${(0,a.encodeURIPath)(e)}`;return e.endsWith(".css")?(0,r.jsx)("link",{precedence:"dynamic",href:t,rel:"stylesheet",as:"style",nonce:l.nonce},e):((0,s.preload)(t,{as:"script",fetchPriority:"low",nonce:l.nonce}),null)})})}},69093,(e,l,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o}});let r=e.r(43476),s=e.r(71645),n=e.r(67585),a=e.r(52157);function d(e){return{default:e&&"default"in e?e.default:e}}let i={loader:()=>Promise.resolve(d(()=>null)),loading:null,ssr:!0},o=function(e){let l={...i,...e},t=(0,s.lazy)(()=>l.loader().then(d)),o=l.loading;function c(e){let d=o?(0,r.jsx)(o,{isLoading:!0,pastDelay:!0,error:null}):null,i=!l.ssr||!!l.loading,c=i?s.Suspense:s.Fragment,u=l.ssr?(0,r.jsxs)(r.Fragment,{children:["undefined"==typeof window?(0,r.jsx)(a.PreloadChunks,{moduleIds:l.modules}):null,(0,r.jsx)(t,{...e})]}):(0,r.jsx)(n.BailoutToCSR,{reason:"next/dynamic",children:(0,r.jsx)(t,{...e})});return(0,r.jsx)(c,{...i?{fallback:d}:{},children:u})}return c.displayName="LoadableComponent",c}},70703,(e,l,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return s}});let r=e.r(55682)._(e.r(69093));function s(e,l){let t={};"function"==typeof e&&(t.loader=e);let s={...t,...l};return(0,r.default)({...s,modules:s.loadableGenerated?.modules})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),l.exports=t.default)},92711,e=>{"use strict";var l=e.i(43476),t=e.i(71645),r=e.i(70703);let s=(0,r.default)(()=>e.A(52169).then(e=>e.MapContainer),{loadableGenerated:{modules:[94970]},ssr:!1}),n=(0,r.default)(()=>e.A(52169).then(e=>e.TileLayer),{loadableGenerated:{modules:[94970]},ssr:!1}),a=(0,r.default)(()=>e.A(52169).then(e=>e.FeatureGroup),{loadableGenerated:{modules:[94970]},ssr:!1}),d=(0,r.default)(()=>e.A(52169).then(e=>e.Polygon),{loadableGenerated:{modules:[94970]},ssr:!1}),i=(0,r.default)(()=>e.A(34222).then(e=>e.EditControl),{loadableGenerated:{modules:[99792]},ssr:!1}),o=1;function c(){let[e,r]=(0,t.useState)("");(0,t.useEffect)(()=>{r(window.location.origin)},[]);let[c,u]=(0,t.useState)([]),[f,p]=(0,t.useState)("#16a34a");return(0,l.jsxs)("div",{className:"du-add-plot",style:{padding:"20px 40px"},children:[(0,l.jsxs)("div",{className:"du-card",style:{marginBottom:16,background:"linear-gradient(135deg,#40B596,#676FC7)",color:"#fff"},children:[(0,l.jsx)("div",{className:"du-card-title",style:{color:"#fff"},children:"การจัดการ Polygons"}),(0,l.jsxs)("div",{className:"du-form-row",children:[(0,l.jsxs)("div",{className:"du-field",children:[(0,l.jsx)("label",{children:"เลือกแปลง"}),(0,l.jsxs)("select",{defaultValue:"A",children:[(0,l.jsx)("option",{value:"A",children:"แปลง A"}),(0,l.jsx)("option",{value:"B",children:"แปลง B"}),(0,l.jsx)("option",{value:"C",children:"แปลง C"})]})]}),(0,l.jsxs)("div",{className:"du-field",children:[(0,l.jsx)("label",{children:"โหมด"}),(0,l.jsxs)("select",{defaultValue:"add",children:[(0,l.jsx)("option",{value:"add",children:"เพิ่มข้อมูล"}),(0,l.jsx)("option",{value:"edit",children:"แก้ไข (mock)"})]})]})]})]}),(0,l.jsxs)("div",{className:"du-grid-2",children:[(0,l.jsxs)("div",{className:"du-card",style:{background:"#fff7ed"},children:[(0,l.jsx)("div",{className:"du-card-title",children:"กรอกข้อมูลแปลง"}),(0,l.jsxs)("div",{className:"du-form-row",children:[(0,l.jsxs)("div",{className:"du-field",children:[(0,l.jsx)("label",{children:"ชื่อแปลง"}),(0,l.jsx)("input",{placeholder:"เช่น แปลง A",defaultValue:"แปลง A"})]}),(0,l.jsxs)("div",{className:"du-field",children:[(0,l.jsx)("label",{children:"ชื่อผู้ดูแล"}),(0,l.jsx)("input",{defaultValue:"คุณสมชาย สวนทุเรียน"})]})]}),(0,l.jsxs)("div",{className:"du-form-row",children:[(0,l.jsxs)("div",{className:"du-field",children:[(0,l.jsx)("label",{children:"ประเภทพืช"}),(0,l.jsx)("input",{defaultValue:"ทุเรียนหมอนทอง"})]}),(0,l.jsxs)("div",{className:"du-field",children:[(0,l.jsx)("label",{children:"วันที่ปลูก"}),(0,l.jsx)("input",{defaultValue:"11/03/2568"})]})]}),(0,l.jsxs)("div",{className:"du-field",children:[(0,l.jsx)("label",{children:"คำอธิบาย"}),(0,l.jsx)("textarea",{rows:3,style:{borderRadius:16,border:"1px solid var(--border-soft)",padding:"8px 12px",fontSize:13},defaultValue:"โซนเนินสูง น้ำไหลดี เหมาะสำหรับทดลองระบบให้น้ำอัตโนมัติ"})]}),(0,l.jsx)("button",{className:"du-btn-primary",children:"SAVE"})]}),(0,l.jsxs)("div",{className:"du-card",children:[(0,l.jsx)("div",{className:"du-card-title",children:"Draw Polygons on a Map"}),(0,l.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8,margin:"8px 0 4px",fontSize:13},children:[(0,l.jsx)("span",{style:{marginRight:4},children:"เลือกสีกรอบ:"}),[{value:"#16a34a",label:"เขียว"},{value:"#22c55e",label:"เขียวอ่อน"},{value:"#f97316",label:"ส้ม"},{value:"#ef4444",label:"แดง"},{value:"#3b82f6",label:"น้ำเงิน"}].map(e=>(0,l.jsx)("button",{onClick:()=>p(e.value),style:{width:26,height:26,borderRadius:"999px",border:f===e.value?"3px solid #111827":"2px solid #e5e7eb",background:e.value,cursor:"pointer"},title:e.label},e.value))]}),(0,l.jsx)("div",{style:{fontSize:11,color:"#6b7280",marginBottom:6},children:"* เลือกสีด้านบนก่อน แล้วใช้ปุ่ม Polygon (บนแผนที่) เพื่อวาดกรอบแปลง"}),(0,l.jsx)("div",{className:"du-leaflet-wrapper",style:{marginTop:4},children:(0,l.jsxs)(s,{center:[13.3,101],zoom:16,scrollWheelZoom:!0,style:{height:360,width:"100%"},children:[(0,l.jsx)(n,{attribution:'© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),(0,l.jsxs)(a,{children:[c.map(e=>(0,l.jsx)(d,{positions:e.coords,pathOptions:{color:e.color,fillColor:e.color,fillOpacity:.35}},e.id)),(0,l.jsx)(i,{position:"topright",onCreated:e=>{if("polygon"===e.layerType){let l=e.layer,t=(l.getLatLngs()[0]||[]).map(e=>[e.lat,e.lng]),r={id:o++,coords:t,color:f};u(e=>[...e,r]),l.remove()}},draw:{marker:!1,circle:!1,rectangle:!1,polyline:!1,circlemarker:!1,polygon:{allowIntersection:!1,showArea:!0,shapeOptions:{color:f,fillColor:f,fillOpacity:.25}}},edit:{edit:!1,remove:!1}})]})]})}),c.length>0&&(0,l.jsxs)("div",{style:{marginTop:10,paddingTop:8,borderTop:"1px dashed #e5e7eb",fontSize:12},children:[(0,l.jsxs)("div",{style:{marginBottom:4,fontWeight:600},children:["กรอบที่วาดไว้ (",c.length,")"]}),(0,l.jsx)("ul",{style:{listStyle:"none",paddingLeft:0,margin:0},children:c.map(e=>(0,l.jsxs)("li",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"4px 0"},children:[(0,l.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8},children:[(0,l.jsxs)("span",{children:["# ",e.id]}),(0,l.jsx)("span",{style:{width:14,height:14,borderRadius:999,background:e.color,border:"1px solid #e5e7eb"}}),(0,l.jsxs)("span",{style:{color:"#6b7280"},children:["จุด ",e.coords.length," จุด"]})]}),(0,l.jsx)("button",{onClick:()=>{var l;return l=e.id,void u(e=>e.filter(e=>e.id!==l))},style:{fontSize:11,padding:"4px 10px",borderRadius:999,border:"none",background:"#fee2e2",color:"#b91c1c",cursor:"pointer"},children:"ลบกรอบ"})]},e.id))})]})]})]})]})}e.s(["default",()=>c])},52169,e=>{e.v(l=>Promise.all(["static/chunks/50cb2eb59ecc15ff.js","static/chunks/1442f9ddf5556540.js"].map(l=>e.l(l))).then(()=>l(94970)))},34222,e=>{e.v(l=>Promise.all(["static/chunks/6af8203cc656a45a.js","static/chunks/1442f9ddf5556540.js","static/chunks/13cd011b66fdcf0c.js"].map(l=>e.l(l))).then(()=>l(99792)))}]);